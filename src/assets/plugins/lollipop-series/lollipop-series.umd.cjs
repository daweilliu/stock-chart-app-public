(function(i,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("lightweight-charts")):typeof define=="function"&&define.amd?define(["exports","lightweight-charts"],o):(i=typeof globalThis<"u"?globalThis:i||self,o(i.LollipopSeries={},i.LightweightCharts))})(this,function(i,o){"use strict";var v=Object.defineProperty;var y=(i,o,a)=>o in i?v(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>y(i,typeof o!="symbol"?o+"":o,a);const a={...o.customSeriesDefaultOptions,lineWidth:2};function x(s){return Math.floor(s*.5)}function b(s,t,e=1,n){const l=Math.round(t*s),h=Math.round(e*t),c=x(h);return{position:l-c,length:h}}function m(s,t,e){const n=Math.round(e*s),l=Math.round(e*t);return{position:Math.min(n,l),length:Math.abs(l-n)+1}}class P{constructor(){d(this,"_data",null);d(this,"_options",null)}draw(t,e){t.useBitmapCoordinateSpace(n=>this._drawImpl(n,e))}update(t,e){this._data=t,this._options=e}_drawImpl(t,e){if(this._data===null||this._data.bars.length===0||this._data.visibleRange===null||this._options===null)return;const n=this._options,l=this._data.bars.map(r=>({x:r.x,y:e(r.originalData.value)??0})),h=Math.min(this._options.lineWidth,this._data.barSpacing),c=this._data.barSpacing,p=Math.floor(c/2),g=e(0);for(let r=this._data.visibleRange.from;r<this._data.visibleRange.to;r++){const u=l[r],f=b(u.x,t.horizontalPixelRatio,h),_=m(g??0,u.y,t.verticalPixelRatio);t.context.beginPath(),t.context.fillStyle=n.color,t.context.fillRect(f.position,_.position,f.length,_.length),t.context.arc(u.x*t.horizontalPixelRatio,u.y*t.verticalPixelRatio,p*t.horizontalPixelRatio,0,Math.PI*2),t.context.fill()}}}class M{constructor(){d(this,"_renderer");this._renderer=new P}priceValueBuilder(t){return[0,t.value]}isWhitespace(t){return t.value===void 0}renderer(){return this._renderer}update(t,e){this._renderer.update(t,e)}defaultOptions(){return a}}i.LollipopSeries=M,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});

<div class="settings-panel">
  <div class="panel-title">Chart Settings</div>

  <!-- Show D-Mark -->
  <div class="settings-row">
    <label class="settings-label">
      <input
        type="checkbox"
        [(ngModel)]="showDMark"
        (change)="showDMarkChange.emit(showDMark)"
      />
      Show D-Mark
    </label>
  </div>

  <!-- Show DL-Seq-9 -->
  <div class="settings-row">
    <label class="settings-label">
      <input
        type="checkbox"
        [(ngModel)]="showDlSeq9"
        (change)="showDlSeq9Change.emit(showDlSeq9)"
      />
      Show DL-Seq-9
    </label>
  </div>

  <!-- Volume Overlap -->
  <div class="settings-row">
    <label class="settings-label">
      <input
        type="checkbox"
        [(ngModel)]="showVolumeOverlap"
        (change)="showVolumeOverlapChange.emit(showVolumeOverlap)"
      />
      Volume Overlap
    </label>
  </div>

  <!-- Show SMA (with Edit button â€” emits to parent to open SMA dialog) -->
  <div class="settings-row">
    <label class="settings-label">
      <input
        type="checkbox"
        [(ngModel)]="showSma"
        (change)="showSmaChange.emit(showSma)"
      />
      Show SMA
    </label>
    <button
      mat-icon-button
      type="button"
      class="edit-btn"
      title="Edit"
      [disabled]="!showSma"
      (click)="openSmaSetting.emit()"
    >
      <mat-icon>edit</mat-icon>
    </button>
  </div>

  <!-- Show Space-Time Gate (with MatDialog Edit) -->
  <div class="settings-row">
    <label class="settings-label">
      <input
        type="checkbox"
        [(ngModel)]="showSpaceTimeGate"
        (change)="showSpaceTimeGateChange.emit(showSpaceTimeGate)"
      />
      Show Space-Time Gate
    </label>
    <button
      mat-icon-button
      type="button"
      class="edit-btn"
      title="Edit"
      [disabled]="!showSpaceTimeGate"
      (click)="openStgDialog()"
    >
      <mat-icon>edit</mat-icon>
    </button>
  </div>
</div>
